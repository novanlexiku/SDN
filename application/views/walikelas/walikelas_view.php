<div class="content">
	<style>
.datepicker{z-index:1151 !important;}
</style>
		<div class="container-fluid">
				<div class="row">
					<div class="col-lg-3 col-md-6 col-sm-6">
                            <div class="card card-stats">
                                <div class="card-header card-header-warning card-header-icon">
                                    <div class="card-icon">
                                        <i class="material-icons">account_box</i>
                                    </div>
                                    <p class="card-category">Guru :</p>
                                    <h3 class="card-title"><?php echo $Total_rows ?>
                                        <small>Orang</small>
                                    </h3>
                                </div>
                                <div class="card-footer">
                                    <div class="stats">
                                    </div>
                                </div>
                            </div>
                        </div>
						
				</div>
				<div class="row">
					<ul class="nav nav-pills nav-pills-icons" role="tablist">
    <!--
        color-classes: "nav-pills-primary", "nav-pills-info", "nav-pills-success", "nav-pills-warning","nav-pills-danger"
    -->
    <li class="nav-item">
        <a class="nav-link" href="#kelas-7" role="tab" data-toggle="tab">
            <i class="material-icons">filter_1</i>
            Kelas 1
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="#kelas-8" role="tab" data-toggle="tab">
            <i class="material-icons">filter_2</i>
            Kelas 2
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="#kelas-9" role="tab" data-toggle="tab">
            <i class="material-icons">filter_3</i>
            Kelas 3
        </a>
    </li>
	<li class="nav-item">
        <a class="nav-link" href="#kelas-9" role="tab" data-toggle="tab">
            <i class="material-icons">filter_4</i>
            Kelas 4
        </a>
    </li>
	<li class="nav-item">
        <a class="nav-link" href="#kelas-9" role="tab" data-toggle="tab">
            <i class="material-icons">filter_5</i>
            Kelas 5
        </a>
    </li>
	<li class="nav-item">
        <a class="nav-link" href="#kelas-9" role="tab" data-toggle="tab">
            <i class="material-icons">filter_6</i>
            Kelas 6
        </a>
    </li>
</ul>
<div class="tab-content tab-space">
    <div class="tab-pane" id="kelas-7">
      <div class="card card-nav-tabs card-plain">
    <div class="card-header card-header-primary">
        <!-- colors: "header-primary", "header-info", "header-success", "header-warning", "header-danger" -->
        <div class="nav-tabs-navigation">
            <div class="nav-tabs-wrapper">
                <ul class="nav nav-tabs" data-tabs="tabs">
                    <li class="nav-item">
                        <a class="nav-link active" href="#kelas-7a" data-toggle="tab">A</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#kelas-7b" data-toggle="tab">B</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#kelas-7c" data-toggle="tab">C</a>
                    </li>
                </ul>
            </div>
        </div>
    </div><div class="card-body ">
        <div class="tab-content text-center">
            <div class="tab-pane active" id="kelas-7a">
                <table class="table table-hover" id="mytable7a">
                                            <thead class=" text-primary">
                                                <tr>
																			<th>Kode</th>
																			<th>Nama</th>
																			<th>Status</th>
			                                								<th>Kelas</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="kelas-7b">
                <table class="table table-hover" id="mytable7b">
                                            <thead class=" text-primary">
                                                <tr>
																			<th>Kode</th>
																			<th>Nama</th>
																			<th>Status</th>
			                                								<th>Kelas</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="kelas-7c">
                <table class="table table-hover" id="mytable7c">
                                            <thead class=" text-primary">
                                                <tr>
																			<th>Kode</th>
																			<th>Nama</th>
																			<th>Status</th>
			                                								<th>Kelas</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
        </div>
    </div>
  </div>
    </div>
    <div class="tab-pane" id="kelas-8">
      <div class="card card-nav-tabs card-plain">
    <div class="card-header card-header-primary">
        <!-- colors: "header-primary", "header-info", "header-success", "header-warning", "header-danger" -->
        <div class="nav-tabs-navigation">
            <div class="nav-tabs-wrapper">
                <ul class="nav nav-tabs" data-tabs="tabs">
                    <li class="nav-item">
                        <a class="nav-link active" href="#kelas-8a" data-toggle="tab">A</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#kelas-8b" data-toggle="tab">B</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#kelas-8c" data-toggle="tab">C</a>
                    </li>
                </ul>
            </div>
        </div>
    </div><div class="card-body ">
        <div class="tab-content text-center">
            <div class="tab-pane active" id="kelas-8a">
                <table class="table table-hover" id="mytable8a">
                                            <thead class=" text-primary">
                                                <tr>
																			<th>Kode</th>
																			<th>Nama</th>
																			<th>Status</th>
			                                								<th>Kelas</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="kelas-8b">
                <table class="table table-hover" id="mytable8b">
                                            <thead class=" text-primary">
                                                <tr>
																			<th>Kode</th>
																			<th>Nama</th>
																			<th>Status</th>
			                                								<th>Kelas</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="kelas-8c">
                <table class="table table-hover" id="mytable8c">
                                            <thead class=" text-primary">
                                                <tr>
																			<th>Kode</th>
																			<th>Nama</th>
																			<th>Status</th>
			                                								<th>Kelas</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
        </div>
    </div>
  </div>
    </div>
    <div class="tab-pane" id="kelas-9">
        <div class="card card-nav-tabs card-plain">
    <div class="card-header card-header-primary">
        <!-- colors: "header-primary", "header-info", "header-success", "header-warning", "header-danger" -->
        <div class="nav-tabs-navigation">
            <div class="nav-tabs-wrapper">
                <ul class="nav nav-tabs" data-tabs="tabs">
                    <li class="nav-item">
                        <a class="nav-link active" href="#kelas-9a" data-toggle="tab">A</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#kelas-9b" data-toggle="tab">B</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#kelas-9c" data-toggle="tab">C</a>
                    </li>
                </ul>
            </div>
        </div>
    </div><div class="card-body ">
        <div class="tab-content text-center">
            <div class="tab-pane active" id="kelas-9a">
               <table class="table table-hover" id="mytable9a">
                                            <thead class=" text-primary">
                                                <tr>
																			<th>Kode</th>
																			<th>Nama</th>
																			<th>Status</th>
			                                								<th>Kelas</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="kelas-9b">
                <table class="table table-hover" id="mytable9b">
                                            <thead class=" text-primary">
                                                <tr>
																			<th>Kode</th>
																			<th>Nama</th>
																			<th>Status</th>
			                                								<th>Kelas</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="kelas-9c">
                <table class="table table-hover" id="mytable9c">
                                            <thead class=" text-primary">
                                                <tr>
																			<th>Kode</th>
																			<th>Nama</th>
																			<th>Status</th>
			                                								<th>Kelas</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
        </div>
    </div>
  </div>
    </div>
</div>
					<div class="col-md-12">
                            <div class="card">
                                <div class="card-header card-header-primary">
                                    <h4 class="card-title ">Tabel</h4>
                                    <p class="card-category">Walikelas</p>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover" id="mytable">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
                                								<th>Kelas</th>
																<th>Action</th>
															</tr>
                                            </thead>
                                         </table>
                                    </div>
                                </div>
                            </div>
                        </div>
							
						</div>
				
				</div>
		</div>
</div>

 <!-- Modal Update guru-->
	<form id="add-row-form" action="<?php echo base_url().'index.php/walikelas/update'?>" method="post">
		 <div class="modal fade" id="ModalUpdate" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					 <div class="modal-content">
							 <div class="modal-header">
									 <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									 <h4 class="modal-title" id="myModalLabel">Update guru</h4>
							 </div>
							 <div class="modal-body">
								 <div class="row">

								 	 <div class="col-md-5"><div class="form-group">
										 <label for="kode_guru" class="control-label">NUPTK</label>
										 <input type="text" name="kode_guru" class="form-control" placeholder="" required>
						         </div></div>
										 <div class="col-md-5"><div class="form-group ">
											 <label for="nama_guru" class="control-label">Nama Lengkap</label>
											 <input type="text" name="nama_guru" class="form-control" placeholder="" required>
							         </div></div>


																<div class="col-md-3"><div class="form-group">
																	<label for="role" class="control-label">Role</label>
																	<select name="role" class="form-control" placeholder="" required>
																		 <?php foreach ($role->result() as $row) :?>
																			 <option value="<?php echo $row->role_id;?>"><?php echo $row->role_nama;?></option>
																		 <?php endforeach;?>
																	</select>																	</div></div>

                                  <div class="col-md-3"><div class="form-group">
                                    <label for="kelas_guru" class="control-label">Kelas</label>
                                    <select name="kelas_guru" class="form-control" placeholder="" >
                                       <?php foreach ($kelas->result() as $row) :?>
                                         <option value="<?php echo $row->kelas_id;?>"><?php echo $row->kelas_nama;?></option>
                                       <?php endforeach;?>
                                    </select>																	</div></div>

																</div>

							 </div>
							 <div class="modal-footer">
										<button type="button" class="btn btn-default ml-2" data-dismiss="modal">Close</button>
										<button type="submit" id="add-row" class="btn btn-success ml-2">Update</button>
							 </div>
						</div>
				</div>
		 </div>
 </form>


 <footer class="footer">
		 <div class="container-fluid">
				 <p class="copyright pull-right">
						 &copy;
						 <script>
								 document.write(new Date().getFullYear())
						 </script>
						 <a href="http://www.creative-tim.com">Creative Tim</a>, made with love for a better web
				 </p>
		 </div>
 </footer>
 </div>
 </div>
 </body>
  <!--   Core JS Files    -->
<script src="<?php echo base_url()?>assets/dashboard/js/core/jquery.min.js"></script>
<script src="<?php echo base_url()?>assets/dashboard/js/core/popper.min.js"></script>
<script src="<?php echo base_url()?>assets/dashboard/js/bootstrap-material-design.js"></script>
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/perfect-scrollbar.jquery.min.js"></script>
<!--  Charts Plugin, full documentation here: https://gionkunz.github.io/chartist-js/ -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/chartist.min.js"></script>
<!-- Library for adding dinamically elements -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/arrive.min.js" type="text/javascript"></script>
<!--  Notifications Plugin, full documentation here: http://bootstrap-notify.remabledesigns.com/    -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/bootstrap-notify.js"></script>
<!-- Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/bootstrap-select.js"></script>

<!-- Plugin for Tags, full documentation here: http://xoxco.com/projects/code/tagsinput/  -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/jquery.tagsinput.js"></script>

<!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/jasny-bootstrap.min.js"></script>

<!-- Plugin for Small Gallery in Product Page -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/jquery.flexisel.js"></script>
<!-- Material Dashboard Core initialisations of plugins and Bootstrap Material Design Library -->
<script src="<?php echo base_url()?>assets/dashboard/js/material-dashboard.js?v=2.0.0"></script>
 <!-- Material Dashboard dataTables -->
 <script src="<?php echo base_url()?>assets/js/jquery.datatables.min.js"></script>
 <script src="<?php echo base_url()?>assets/js/dataTables.bootstrap.js"></script>
  <script src="<?php echo base_url()?>assets/js/bootstrap-datepicker.js"></script>
 <?php
  $message = $this->session->flashdata('message');
  if($message == "suksestambah"){
?>
    <script type="text/javascript">
       $(document).ready(function(){
        $.notify({

        },{
            type: 'success',
            timer: 500,
						template: '<div class="alert alert-success">'+
											'<div class="container-fluid">'+
  										'<div class="alert-icon">'+
											'<i class="material-icons">check</i>'+
  										'</div>'+
  										'<button type="button" class="close" data-dismiss="alert" aria-label="Close">'+
											'<span aria-hidden="true"><i class="material-icons">clear</i></span>'+
  										'</button>'+
  										'<b>Berhasil</b>  menambah data Walikelas'+
											'</div>'+'</div>'

        });

     });
   </script>
<?php
}
elseif($message == "suksesupdate"){
?>
	<script type="text/javascript">
		 $(document).ready(function(){
			$.notify({

			},{
					type: 'success',
					timer: 500,
					template: '<div class="alert alert-success">'+
										'<div class="container-fluid">'+
										'<div class="alert-icon">'+
										'<i class="material-icons">check</i>'+
										'</div>'+
										'<button type="button" class="close" data-dismiss="alert" aria-label="Close">'+
										'<span aria-hidden="true"><i class="material-icons">clear</i></span>'+
										'</button>'+
										'<b>Berhasil</b>  mengubah data Walikelas'+
										'</div>'+'</div>'

			});

	 });
 </script>
<?php
}
elseif($message == "sukseshapus"){
?>
	<script type="text/javascript">
		 $(document).ready(function(){
			$.notify({

			},{
					type: 'success',
					timer: 500,
					template: '<div class="alert alert-success">'+
										'<div class="container-fluid">'+
										'<div class="alert-icon">'+
										'<i class="material-icons">check</i>'+
										'</div>'+
										'<button type="button" class="close" data-dismiss="alert" aria-label="Close">'+
										'<span aria-hidden="true"><i class="material-icons">clear</i></span>'+
										'</button>'+
										'<b>Berhasil</b>  menghapus data Walikelas'+
										'</div>'+'</div>'

			});

	 });
 </script>
<?php
};
?>
 <script>
 $('.datepicker').datepicker({
 	weekStart:1
 });
 </script>
 <script>
	$(document).ready(function(){
		// Setup datatables
		$.fn.dataTableExt.oApi.fnPagingInfo = function(oSettings)
			 {
					 return {
							 "iStart": oSettings._iDisplayStart,
							 "iEnd": oSettings.fnDisplayEnd(),
							 "iLength": oSettings._iDisplayLength,
							 "iTotal": oSettings.fnRecordsTotal(),
							 "iFilteredTotal": oSettings.fnRecordsDisplay(),
							 "iPage": Math.ceil(oSettings._iDisplayStart / oSettings._iDisplayLength),
							 "iTotalPages": Math.ceil(oSettings.fnRecordsDisplay() / oSettings._iDisplayLength)
					 };
			 };

			 var table = $("#mytable").dataTable({
					 initComplete: function() {
							 var api = this.api();
							 $('#mytable_filter input')
									 .off('.DT')
									 .on('input.DT', function() {
											 api.search(this.value).draw();
							 });
					 },
							 oLanguage: {
							 sProcessing: "loading..."
					 },
							 processing: true,
							 serverSide: true,
							 ajax: {"url": "<?php echo base_url().'index.php/walikelas/get_guru_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "kelas_nama"},
												 {"data": "view"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable7a").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/walikelas/get_kelas7a_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "kelas_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable7b").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/walikelas/get_kelas7b_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "kelas_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable7c").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/walikelas/get_kelas7c_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "kelas_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable8a").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/walikelas/get_kelas8a_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "kelas_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable8b").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/walikelas/get_kelas8b_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
													{"data": "kelas_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable8c").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/walikelas/get_kelas8c_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "kelas_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable9a").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/walikelas/get_kelas9a_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "kelas_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable9b").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/walikelas/get_kelas9b_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "kelas_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable9c").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/walikelas/get_kelas9c_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "kelas_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });

			// end setup datatables

			// get Edit Records
			$('#mytable').on('click','.edit_record',function(){
						 var kode=$(this).data('kode');
						var nama=$(this).data('nama');
						var role=$(this).data('role');
            var kelas=$(this).data('kelas');

						 $('#ModalUpdate').modal('show');
						 $('[name="kode_guru"]').val(kode);
						$('[name="nama_guru"]').val(nama);
						$('[name="role"]').val(role);
            $('[name="kelas_guru"]').val(kelas);

			 });
			// End Edit Records
      // get Hapus Records
			$('#mytable').on('click','.hapus_record',function(){
						 var kode=$(this).data('kode');
						 $('#ModalHapus').modal('show');
						 $('[name="kode_guru"]').val(kode);
			 });
			// End Hapus Records

	});
 </script>
 </html>
