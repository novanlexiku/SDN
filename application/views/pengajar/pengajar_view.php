<div class="content">
    
	<style>
.datepicker{z-index:1151 !important;}
</style>
		<div class="container-fluid">
				<div class="row">
					<div class="col-lg-3 col-md-6 col-sm-6">
                            <div class="card card-stats">
                                <div class="card-header card-header-primary card-header-icon">
                                    <div class="card-icon">
                                        <i class="material-icons">account_box</i>
                                    </div>
                                    <p class="card-category">Guru :</p>
                                    <h3 class="card-title"><?php echo $Total_rows ?>
                                        <small>Orang</small>
                                    </h3>
                                </div>
                                <div class="card-footer">
                                    <div class="stats">
                                    </div>
                                </div>
                            </div>
                        </div>
						
				</div>
				<div class="row">
					<div class="card card-nav-tabs card-plain">
    <div class="card-header card-header-info">
        <!-- colors: "header-primary", "header-info", "header-success", "header-warning", "header-danger" -->
        <div class="nav-tabs-navigation">
            <div class="nav-tabs-wrapper">
                <ul class="nav nav-tabs" data-tabs="tabs">
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel1" data-toggle="tab"><i class="material-icons">event_available</i>Agama</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel2" data-toggle="tab"><i class="material-icons">event_available</i>B.Indo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel3" data-toggle="tab"><i class="material-icons">event_available</i>B.Ing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel4" data-toggle="tab"><i class="material-icons">event_available</i>Mulok</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel5" data-toggle="tab"><i class="material-icons">event_available</i>IPA</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel6" data-toggle="tab"><i class="material-icons">event_available</i>IPS</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel7" data-toggle="tab"><i class="material-icons">event_available</i>Math</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel8" data-toggle="tab"><i class="material-icons">event_available</i>Penjas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel9" data-toggle="tab"><i class="material-icons">event_available</i>PKN</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel10" data-toggle="tab"><i class="material-icons">event_available</i>Kesenian</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#mapel11" data-toggle="tab"><i class="material-icons">event_available</i>TIK</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="card-body ">
        <div class="tab-content text-center">
            <div class="tab-pane" id="mapel1">
                <table class="table table-hover" id="mytable1">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="mapel2">
                <table class="table table-hover" id="mytable2">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="mapel3">
                <table class="table table-hover" id="mytable3">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="mapel4">
                <table class="table table-hover" id="mytable4">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="mapel5">
                <table class="table table-hover" id="mytable5">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="mapel6">
                <table class="table table-hover" id="mytable6">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="mapel7">
                <table class="table table-hover" id="mytable7">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="mapel8">
                <table class="table table-hover" id="mytable8">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="mapel9">
                <table class="table table-hover" id="mytable9">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="mapel10">
                <table class="table table-hover" id="mytable10">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            <div class="tab-pane" id="mapel11">
                <table class="table table-hover" id="mytable11">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
			                                					<th>Mapel</th>
															</tr>
                                            </thead>
                                         </table>
            </div>
            
        </div>
    </div>
  </div>


					<div class="col-md-12">
                            <div class="card">
                                <div class="card-header card-header-primary">
                                    <h4 class="card-title ">Tabel</h4>
                                    <p class="card-category">Pengajar</p>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover" id="mytable">
                                            <thead class=" text-primary">
                                                <tr>
																<th>Kode</th>
																<th>Nama</th>
																<th>Status</th>
                                								<th>Mapel</th>
																<th>Action</th>
															</tr>
                                            </thead>
                                         </table>
                                         <button class="btn btn-success ml-2" data-toggle="modal" data-target="#myModalAdd">Add New</button>
                                    </div>
                                </div>
                            </div>
                        </div>
						
				
					
							
						</div>
				</div>
		</div>

 <!-- Modal Update guru-->
	<form id="add-row-form" action="<?php echo base_url().'index.php/pengajar/update'?>" method="post">
		 <div class="modal fade" id="ModalUpdate" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					 <div class="modal-content">
							 <div class="modal-header">
									 <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									 <h4 class="modal-title" id="myModalLabel">Update guru</h4>
							 </div>
							 <div class="modal-body">
								 <div class="row">

								 	 <div class="col-md-5"><div class="form-group">
										 <label for="kode_guru" class="control-label">NUPTK</label>
										 <input type="text" name="kode_guru" class="form-control" placeholder="" required>
						         </div></div>
										 <div class="col-md-5"><div class="form-group ">
											 <label for="nama_guru" class="control-label">Nama Lengkap</label>
											 <input type="text" name="nama_guru" class="form-control" placeholder="" required>
							         </div></div>


																<div class="col-md-3"><div class="form-group">
																	<label for="role" class="control-label">Role</label>
																	<select name="role" class="form-control" placeholder="" required>
																		 <?php foreach ($role->result() as $row) :?>
																			 <option value="<?php echo $row->role_id;?>"><?php echo $row->role_nama;?></option>
																		 <?php endforeach;?>
																	</select>																	</div></div>

                                  <div class="col-md-3"><div class="form-group">
                                    <label for="mapel_guru" class="control-label">mapel</label>
                                    <select name="mapel_guru" class="form-control" placeholder="" >
                                       <?php foreach ($mapel->result() as $row) :?>
                                         <option value="<?php echo $row->mapel_id;?>"><?php echo $row->mapel_nama;?></option>
                                       <?php endforeach;?>
                                    </select>																	</div></div>

																</div>

							 </div>
							 <div class="modal-footer">
										<button type="button" class="btn btn-default ml-2" data-dismiss="modal">Close</button>
										<button type="submit" id="add-row" class="btn btn-success ml-2">Update</button>
							 </div>
						</div>
				</div>
		 </div>
 </form>


 <footer class="footer">
		 <div class="container-fluid">
				 <p class="copyright pull-right">
						 
				 </p>
		 </div>
 </footer>
 </div>
 </div>
 </body>
 <!--   Core JS Files    -->
<script src="<?php echo base_url()?>assets/dashboard/js/core/jquery.min.js"></script>
<script src="<?php echo base_url()?>assets/dashboard/js/core/popper.min.js"></script>
<script src="<?php echo base_url()?>assets/dashboard/js/bootstrap-material-design.js"></script>
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/perfect-scrollbar.jquery.min.js"></script>
<!--  Charts Plugin, full documentation here: https://gionkunz.github.io/chartist-js/ -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/chartist.min.js"></script>
<!-- Library for adding dinamically elements -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/arrive.min.js" type="text/javascript"></script>
<!--  Notifications Plugin, full documentation here: http://bootstrap-notify.remabledesigns.com/    -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/bootstrap-notify.js"></script>
<!-- Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/bootstrap-select.js"></script>

<!-- Plugin for Tags, full documentation here: http://xoxco.com/projects/code/tagsinput/  -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/jquery.tagsinput.js"></script>

<!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/jasny-bootstrap.min.js"></script>

<!-- Plugin for Small Gallery in Product Page -->
<script src="<?php echo base_url()?>assets/dashboard/js/plugins/jquery.flexisel.js"></script>
<!-- Material Dashboard Core initialisations of plugins and Bootstrap Material Design Library -->
<script src="<?php echo base_url()?>assets/dashboard/js/material-dashboard.js?v=2.0.0"></script>
 <!-- Material Dashboard dataTables -->
 <script src="<?php echo base_url()?>assets/js/jquery.datatables.min.js"></script>
 <script src="<?php echo base_url()?>assets/js/dataTables.bootstrap.js"></script>
  <script src="<?php echo base_url()?>assets/js/bootstrap-datepicker.js"></script>
 <?php
  $message = $this->session->flashdata('message');
  if($message == "suksestambah"){
?>
    <script type="text/javascript">
       $(document).ready(function(){
        $.notify({

        },{
            type: 'success',
            timer: 500,
						template: '<div class="alert alert-success">'+
											'<div class="container-fluid">'+
  										'<div class="alert-icon">'+
											'<i class="material-icons">check</i>'+
  										'</div>'+
  										'<button type="button" class="close" data-dismiss="alert" aria-label="Close">'+
											'<span aria-hidden="true"><i class="material-icons">clear</i></span>'+
  										'</button>'+
  										'<b>Berhasil</b>  menambah data pengajar'+
											'</div>'+'</div>'

        });

     });
   </script>
<?php
}
elseif($message == "suksesupdate"){
?>
	<script type="text/javascript">
		 $(document).ready(function(){
			$.notify({

			},{
					type: 'success',
					timer: 500,
					template: '<div class="alert alert-success">'+
										'<div class="container-fluid">'+
										'<div class="alert-icon">'+
										'<i class="material-icons">check</i>'+
										'</div>'+
										'<button type="button" class="close" data-dismiss="alert" aria-label="Close">'+
										'<span aria-hidden="true"><i class="material-icons">clear</i></span>'+
										'</button>'+
										'<b>Berhasil</b>  mengubah data pengajar'+
										'</div>'+'</div>'

			});

	 });
 </script>
<?php
}
elseif($message == "sukseshapus"){
?>
	<script type="text/javascript">
		 $(document).ready(function(){
			$.notify({

			},{
					type: 'success',
					timer: 500,
					template: '<div class="alert alert-success">'+
										'<div class="container-fluid">'+
										'<div class="alert-icon">'+
										'<i class="material-icons">check</i>'+
										'</div>'+
										'<button type="button" class="close" data-dismiss="alert" aria-label="Close">'+
										'<span aria-hidden="true"><i class="material-icons">clear</i></span>'+
										'</button>'+
										'<b>Berhasil</b>  menghapus data pengajar'+
										'</div>'+'</div>'

			});

	 });
 </script>
<?php
};
?>
 <script>
 $('.datepicker').datepicker({
 	weekStart:1
 });
 </script>
 <script>
	$(document).ready(function(){
		// Setup datatables
		$.fn.dataTableExt.oApi.fnPagingInfo = function(oSettings)
			 {
					 return {
							 "iStart": oSettings._iDisplayStart,
							 "iEnd": oSettings.fnDisplayEnd(),
							 "iLength": oSettings._iDisplayLength,
							 "iTotal": oSettings.fnRecordsTotal(),
							 "iFilteredTotal": oSettings.fnRecordsDisplay(),
							 "iPage": Math.ceil(oSettings._iDisplayStart / oSettings._iDisplayLength),
							 "iTotalPages": Math.ceil(oSettings.fnRecordsDisplay() / oSettings._iDisplayLength)
					 };
			 };

			 var table = $("#mytable").dataTable({
					 initComplete: function() {
							 var api = this.api();
							 $('#mytable_filter input')
									 .off('.DT')
									 .on('input.DT', function() {
											 api.search(this.value).draw();
							 });
					 },
							 oLanguage: {
							 sProcessing: "loading..."
					 },
							 processing: true,
							 serverSide: true,
							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_guru_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         						{"data": "mapel_nama"},
												 {"data": "view"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable1").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel1_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         						{"data": "mapel_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable2").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel2_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "mapel_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable3").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel3_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "mapel_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable4").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel4_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "mapel_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable5").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel5_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
													{"data": "mapel_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable6").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel6_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "mapel_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable7").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel7_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "mapel_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable8").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel8_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "mapel_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			 var table = $("#mytable9").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel9_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "mapel_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
       var table = $("#mytable10").dataTable({

               ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel10_json'?>", "type": "POST"},
                  columns: [
                        {"data": "guru_kode"},
                        {"data": "guru_nama"},
                         {"data": "role_nama"},
                         {"data": "mapel_nama"}
                   ],
              order: [[1, 'asc']],
           rowCallback: function(row, data, iDisplayIndex) {
               var info = this.fnPagingInfo();
               var page = info.iPage;
               var length = info.iLength;
               $('td:eq(0)', row).html();
           }

       });
       var table = $("#mytable11").dataTable({

							 ajax: {"url": "<?php echo base_url().'index.php/pengajar/get_mapel11_json'?>", "type": "POST"},
									columns: [
												{"data": "guru_kode"},
												{"data": "guru_nama"},
												 {"data": "role_nama"},
                         {"data": "mapel_nama"}
									 ],
							order: [[1, 'asc']],
					 rowCallback: function(row, data, iDisplayIndex) {
							 var info = this.fnPagingInfo();
							 var page = info.iPage;
							 var length = info.iLength;
							 $('td:eq(0)', row).html();
					 }

			 });
			// end setup datatables

			// get Edit Records
			$('#mytable').on('click','.edit_record',function(){
						 var kode=$(this).data('kode');
						var nama=$(this).data('nama');
						var role=$(this).data('role');
            var mapel=$(this).data('mapel');

						 $('#ModalUpdate').modal('show');
						 $('[name="kode_guru"]').val(kode);
						$('[name="nama_guru"]').val(nama);
						$('[name="role"]').val(role);
            $('[name="mapel_guru"]').val(mapel);

			 });
			// End Edit Records
      // get Hapus Records
			$('#mytable').on('click','.hapus_record',function(){
						 var kode=$(this).data('kode');
						 $('#ModalHapus').modal('show');
						 $('[name="kode_guru"]').val(kode);
			 });
			// End Hapus Records

	});
 </script>
 </html>
